"use strict";function _defineProperty(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function _typeof(n){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(n)}!function(n,t){"object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(n="undefined"!=typeof globalThis?globalThis:n||self).StoresX=t()}(void 0,(function(){function n(){}function t(n,t){return n!=n?t==t:n!==t||n&&"object"===_typeof(n)||"function"==typeof n}var e=[];function r(n,t){return{subscribe:o(n,t).subscribe}}function o(r){var o,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n,u=[];function c(n){if(t(r,n)&&(r=n,o)){for(var i=!e.length,c=0;c<u.length;c+=1){var f=u[c];f[1](),e.push(f,r)}if(i){for(var a=0;a<e.length;a+=2)e[a][0](e[a+1]);e.length=0}}}function f(n){c(n(r))}function a(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n,f=[t,e];return u.push(f),1===u.length&&(o=i(c)||n),t(r),function(){var n=u.indexOf(f);-1!==n&&u.splice(n,1),0===u.length&&(o(),o=null)}}return{set:c,update:f,subscribe:a}}var i=function(n,t){return n+t.slice(0,1).toUpperCase()+t.slice(1)},u=function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"get",e=arguments.length>2?arguments[2]:void 0,r={},o=function(o){p(e,o,"getters")&&(r[i(t,o)]=function(){return n[o]})};for(var u in n)o(u);return r},c=function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"set",e=arguments.length>2?arguments[2]:void 0,r={},o=function(o){p(e,o,"mutations")&&(r[i(t,o)]=function(t){return n[o].set(t)})};for(var u in n)o(u);return r},f=function(n,t){var e={},r=function(n){e[t?i(t,n):n]=function(t,e){return(0,t.commit)(n,e)}};for(var o in n)r(o);return e},a=function(n,t){var e,r=function(r){e=Object.assign({},e,_defineProperty({},r,(function(){for(var e=arguments.length,o=new Array(e),i=0;i<e;i++)o[i]=arguments[i];return n[r].apply(n,[t].concat(o))})))};for(var o in n)r(o);return e},s=function(n,t){var e,r=function(r){e=Object.assign({},e,_defineProperty({},r,(function(){for(var e=arguments.length,o=new Array(e),i=0;i<e;i++)o[i]=arguments[i];return n[r].apply(n,[t].concat(o))})))};for(var o in n)r(o);return{actions:e,dispatch:t.dispatch,commit:t.commit}},l=function(n,t){var e,r=function(r){e=Object.assign({},e,_defineProperty({},r,(function(){for(var e=arguments.length,o=new Array(e),i=0;i<e;i++)o[i]=arguments[i];return n[r].apply(n,[t].concat(o))})))};for(var o in n)r(o);return e},p=function(n,t,e){var r=n.find((function(n){return Object.keys(n.state).includes(t)})),o=!r||(void 0===r.defaults||r.defaults);return"boolean"==typeof o?o:"object"!==_typeof(o)||("object"===_typeof(o[t])?void 0===o[t][e]||o[t][e]:void 0===o[t]||o[t])},y=function(n,t){for(var e=arguments.length,r=new Array(e>2?e-2:0),o=2;o<e;o++)r[o-2]=arguments[o];return new Promise((function(e,o){try{var i="function"==typeof t?t.apply(void 0,r):n[t].apply(n,r);e(i||"OK")}catch(n){o(n)}}))};return function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=function(t){return n.reduce((function(n,e){return Object.assign({},n,e[t])}),{})},i=e("state");for(var p in i)i[p]=o(i[p]);var v,d=r(i);d.subscribe((function(n){v=n}))();var b=Object.assign({},u(v,t.getter,n),l(e("getters"),v)),g=Object.assign({},c(v,t.mutation,n),a(e("mutations"),v)),h=s(Object.assign({},f(g,t.action),e("actions")),{dispatch:function(n){for(var t=arguments.length,e=new Array(t>1?t-1:0),r=1;r<t;r++)e[r-1]=arguments[r];return y.apply(void 0,[m,n].concat(e))},commit:function(n){for(var t=arguments.length,e=new Array(t>1?t-1:0),r=1;r<t;r++)e[r-1]=arguments[r];return g[n].apply(g,e)},state:v,g:function(n){for(var t=arguments.length,e=new Array(t>1?t-1:0),r=1;r<t;r++)e[r-1]=arguments[r];return b[n].apply(b,e)}}),m=h.actions,j=h.commit,O=h.dispatch;return{state:v,subscribe:d.subscribe,mutations:g,actions:m,getters:b,dispatch:O,commit:j}}}));
