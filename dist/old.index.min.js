"use strict";function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_unsupportedIterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(t,n){if(t){if("string"==typeof t)return _arrayLikeToArray(t,n);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(t,n):void 0}}function _iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}function _arrayLikeToArray(t,n){(null==n||n>t.length)&&(n=t.length);for(var r=0,e=new Array(n);r<n;r++)e[r]=t[r];return e}function _defineProperty(t,n,r){return n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t}function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}!function(t,n){"object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):(t="undefined"!=typeof globalThis?globalThis:t||self).StoresX=n()}(void 0,(function(){function t(){}function n(t,n){return t!=t?n==n:t!==n||t&&"object"===_typeof(t)||"function"==typeof t}var r=[];function e(e){var o,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,a=[];function u(t){if(n(e,t)&&(e=t,o)){for(var i=!r.length,u=0;u<a.length;u+=1){var c=a[u];c[1](),r.push(c,e)}if(i){for(var f=0;f<r.length;f+=2)r[f][0](r[f+1]);r.length=0}}}function c(t){u(t(e))}function f(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,c=[n,r];return a.push(c),1===a.length&&(o=i(u)||t),n(e),function(){var t=a.indexOf(c);-1!==t&&a.splice(t,1),0===a.length&&(o(),o=null)}}return{set:u,update:c,subscribe:f}}var o=function(t,n){return t+n.slice(0,1).toUpperCase()+n.slice(1)},i=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"get",r=arguments.length>2?arguments[2]:void 0,e={},i=function(i){l(r,i,"getters")&&(e[o(n,i)]=function(){return t[i]})};for(var a in t)i(a);return e},a=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"set",r=arguments.length>2?arguments[2]:void 0,e={},i=function(i){l(r,i,"mutations")&&(e[o(n,i)]=function(n){return t[i].set(n)})};for(var a in t)i(a);return e},u=function(t,n){var r={},e=function(t){r[n?o(n,t):t]=function(n,r){return(0,n.commit)(t,r)}};for(var i in t)e(i);return r},c=function(t,n){var r,e=function(e){r=Object.assign({},r,_defineProperty({},e,(function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return t[e].apply(t,[n].concat(o))})))};for(var o in t)e(o);return r},f=function(t,n){var r,e=function(e){r=Object.assign({},r,_defineProperty({},e,(function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return t[e].apply(t,[n].concat(o))})))};for(var o in t)e(o);return{actions:r,dispatch:n.dispatch,commit:n.commit}},s=function(t,n){var r,e=function(e){r=Object.assign({},r,_defineProperty({},e,(function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return t[e].apply(t,[n].concat(o))})))};for(var o in t)e(o);return r},l=function(t,n,r){var e=t.find((function(t){return Object.keys(t.state).includes(n)})),o=!e||(void 0===e.defaults||e.defaults);return"boolean"==typeof o?o:"object"!==_typeof(o)||("object"===_typeof(o[n])?void 0===o[n][r]||o[n][r]:void 0===o[n]||o[n])},y=function(t,n){for(var r=arguments.length,e=new Array(r>2?r-2:0),o=2;o<r;o++)e[o-2]=arguments[o];return new Promise((function(r,o){try{var i="function"==typeof n?n.apply(void 0,e):t[n].apply(t,e);r(i||"OK")}catch(t){o(t)}}))};return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=function(n){return t.reduce((function(t,r){return Object.assign({},t,r[n])}),{})},o=t.reduce((function(t,n){return[].concat(_toConsumableArray(t),_toConsumableArray(n.noStore?n.noStore:[]))}),[]),l=r("state");for(var p in l)l[p]=o.includes(p)?l[p]:e(l[p]);var d,b=e(l);b.subscribe((function(t){d=t}))();var v=Object.assign({},a(d,n.mutation,t),c(r("mutations"),d)),m=Object.assign({},i(d,n.getter,t),s(r("getters"),d)),g=f(Object.assign({},u(v,n.action),r("actions")),{dispatch:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),e=1;e<n;e++)r[e-1]=arguments[e];return y.apply(void 0,[h,t].concat(r))},commit:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),e=1;e<n;e++)r[e-1]=arguments[e];return v[t].apply(v,r)},state:d,g:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),e=1;e<n;e++)r[e-1]=arguments[e];return m[t].apply(m,r)}}),h=g.actions,A=g.commit,_=g.dispatch;return{state:d,subscribe:b.subscribe,mutations:v,actions:h,getters:m,dispatch:_,commit:A}}}));
